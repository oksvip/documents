<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>All - Centos软件安装</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "All";
    var mkdocs_page_input_path = "install/all.md";
    var mkdocs_page_url = "/install/all/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Centos软件安装</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
	  
          
            <li class="toctree-l1">
		
    <a class="" href="../..">简介</a>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">笔记</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../study/git/">Git</a>
                </li>
                <li class="">
                    
    <a class="" href="../../study/javascript/">JavaScript</a>
                </li>
                <li class="">
                    
    <a class="" href="../../study/mysql/">Mysql</a>
                </li>
                <li class="">
                    
    <a class="" href="../../study/vim/">Vim</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">知识</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../study/ask-wisdom/">提问的智慧</a>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">软件</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../ubuntu/">Ubuntu-php-version</a>
                </li>
                <li class="">
                    
    <a class="" href="../ubuntu-mutiply-php-version/">ubuntu-mutiply-php-version</a>
                </li>
                <li class="">
                    
    <a class="" href="../vim/">Vim</a>
                </li>
                <li class="">
                    
    <a class="" href="../vsftpd/">Vsftpd</a>
                </li>
                <li class="">
                    
    <a class="" href="../httpd/">Apache</a>
                </li>
                <li class="">
                    
    <a class="" href="../mysql/">Mysql</a>
                </li>
                <li class="">
                    
    <a class="" href="../php/">Php</a>
                </li>
                <li class="">
                    
    <a class="" href="../git/">Git</a>
                </li>
                <li class="">
                    
    <a class="" href="../redis/">Redis</a>
                </li>
                <li class="">
                    
    <a class="" href="../memcached/">Memcached</a>
                </li>
                <li class="">
                    
    <a class="" href="../mongodb/">Mongodb</a>
                </li>
                <li class="">
                    
    <a class="" href="../composer/">Composer</a>
                </li>
                <li class="">
                    
    <a class="" href="../mkdocs/">Mkdocs</a>
                </li>
                <li class="">
                    
    <a class="" href="../node/">Node</a>
                </li>
                <li class=" current">
                    
    <a class="current" href="./">All</a>
    <ul class="subnav">
            
    <li class="toctree-l3"><a href="#centos65php">Centos6.5安装php开发环境</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#_1">一、准备篇</a></li>
        
            <li><a class="toctree-l4" href="#_2">二、安装篇：</a></li>
        
            <li><a class="toctree-l4" href="#centos65_64memcachedphp_memcacahed">Centos6.5_64安装memcached服务端和php_memcacahed拓展</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#centos65mongodb">Centos6.5安装mongodb</a></li>
    
        <ul>
        
            <li><a class="toctree-l4" href="#mongodb">一、安装MongoDB</a></li>
        
            <li><a class="toctree-l4" href="#php7mongodb">二、PHP7安装MongoDB拓展</a></li>
        
        </ul>
    

    <li class="toctree-l3"><a href="#composer">安装composer</a></li>
    

    <li class="toctree-l3"><a href="#mkdocs">安装mkdocs</a></li>
    

    <li class="toctree-l3"><a href="#python361">一.安装python3.6.1</a></li>
    

    <li class="toctree-l3"><a href="#pip">二、安装pip（安装之前先检查是否安装了）</a></li>
    

    <li class="toctree-l3"><a href="#mkdocs_1">三、安装mkdocs</a></li>
    

    <li class="toctree-l3"><a href="#_3">四、创建项目</a></li>
    

    </ul>
                </li>
    </ul>
	    </li>
          
            <li class="toctree-l1">
		
    <span class="caption-text">学习</span>
    <ul class="subnav">
                <li class="">
                    
    <a class="" href="../../study/laravel5-thinkphp5/">Laravel&ThinkPHP</a>
                </li>
                <li class="">
                    
    <a class="" href="../../study/laravel-email/">Laravel发送email</a>
                </li>
                <li class="">
                    
    <a class="" href="../../study/project-readme-example/">ReadMe-Example</a>
                </li>
    </ul>
	    </li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Centos软件安装</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>软件 &raquo;</li>
        
      
    
    <li>All</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <div class="toc">
<ul>
<li><a href="#centos65php">Centos6.5安装php开发环境</a><ul>
<li><a href="#_1">一、准备篇</a><ul>
<li><a href="#1">1、下载安装包</a></li>
<li><a href="#2">2、安装依赖包</a></li>
<li><a href="#3apache">3、删除自带apache</a></li>
<li><a href="#4mysql">4、卸载自带的mysql</a></li>
<li><a href="#5803306">5、开启80端口、3306端口</a></li>
<li><a href="#6selinux">6、关闭SELINUX</a></li>
<li><a href="#7">7、解压压缩包</a></li>
<li><a href="#9vim">9、安装vim并设置代码高亮</a><ul>
<li><a href="#1vim">1）下载vim</a></li>
<li><a href="#2vim">2）设置vim编程风格</a></li>
</ul>
</li>
<li><a href="#10sshdsecurecrt">10、安装sshd服务配置secureCRT远程登录</a></li>
<li><a href="#11centos65">11、centos6.5修改主机名</a></li>
<li><a href="#12centos6-ftp">12、CentOS6 配置FTP服务器</a><ul>
<li><a href="#221">2）开放21端口</a></li>
<li><a href="#3vsftpdconfig">3）编辑vsftpd.config文件</a></li>
<li><a href="#4">4）限制用户目录，不得改变目录到上级</a></li>
<li><a href="#5">5）设置开机启动</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#_2">二、安装篇：</a><ul>
<li><a href="#1apache">1、编译安装apache</a><ul>
<li><a href="#1apr">1）安装apr</a></li>
<li><a href="#2apr-util">2）安装apr-util</a></li>
<li><a href="#3apache_1">3）安装apache</a></li>
<li><a href="#4httpdconf">4）备份httpd.conf</a></li>
<li><a href="#5httpd">5）修改httpd的主配置文件</a></li>
<li><a href="#6sysvetcrcdinitdhttpd">6）提供SysV服务脚本/etc/rc.d/init.d/httpd</a></li>
<li><a href="#7_1">7）为此脚本赋予执行权限：</a></li>
<li><a href="#8">8）加入服务列表</a></li>
<li><a href="#9apache">9）启动Apache服务</a></li>
</ul>
</li>
<li><a href="#2mysql">2、编译安装mysql</a><ul>
<li><a href="#1usrlocalmysqlmysql">1）解压缩到/usr/local/下面，mysql的主目录命名为mysql</a></li>
<li><a href="#2mysqldata">2）在mysql下面创建data数据库文件目录</a></li>
<li><a href="#3mysqlmysql">3）创建mysql的用户组和用户，并对mysql目录设置用户组和用户</a></li>
<li><a href="#4mysqlmysql">4）初始化mysql并启动mysql服务</a></li>
<li><a href="#5mysql">5）启动mysql服务</a></li>
<li><a href="#6mysql">6）将mysql服务添加至系统服务中</a></li>
<li><a href="#7mysqllinux">7）将mysql命令加入linux环境变量</a></li>
<li><a href="#8root">8）查看root随机密码</a></li>
<li><a href="#9mysql">9）登录mysql</a></li>
<li><a href="#10mysqlrootroot">10）改mysql的root用户密码为root</a></li>
<li><a href="#11mysql">11）设定远程登录mysql</a></li>
<li><a href="#12utf8">12）设定默认utf8字符集</a></li>
<li><a href="#13navicat-for-mysql">13）解决navicat for mysql插入数据后显示错误</a></li>
</ul>
</li>
<li><a href="#3php">3、编译安装php</a><ul>
<li><a href="#1php">1）编译安装php</a></li>
<li><a href="#2phpini">2）备份php.ini</a></li>
<li><a href="#3apachephp">3）配置Apache，使其和Php结合</a></li>
<li><a href="#4php">4）将php命令添加至环境变量</a></li>
<li><a href="#5apachephpmysql">5）重启Apache服务，并添加php和mysql测试网页</a></li>
</ul>
</li>
<li><a href="#4git">4、安装GIT</a><ul>
<li><a href="#2centosgit171">2）卸载Centos自带的git1.7.1</a></li>
<li><a href="#3gitgit">3）安装git并将git添加到环境变量中</a></li>
<li><a href="#4_1">4）查看版本号</a></li>
</ul>
</li>
<li><a href="#5redisredis">5、安装redis和redis拓展</a><ul>
<li><a href="#1redis">1）安装redis依赖文件</a></li>
<li><a href="#2redis">2）下载redis安装包并解压</a></li>
<li><a href="#3usrlocalbin">3）成功后/usr/local/bin下已有这些文件</a></li>
<li><a href="#4redisconf">4）修改配置文件redis.conf</a></li>
<li><a href="#5redis">5）修改Redis配置</a></li>
<li><a href="#6redis">6）启动redis，查看各目录下文件</a></li>
<li><a href="#7redis">7）客户端连接redis</a></li>
<li><a href="#8_1">8）服务及开机自启动</a></li>
<li><a href="#9redis">9）启动、关闭redis</a></li>
<li><a href="#10-php">10) 安装php拓展</a></li>
<li><a href="#11-extensionredissophpini">11） 将extension=redis.so加入到php.ini</a></li>
<li><a href="#12-redis">12) 测试redis是否成功</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#centos65_64memcachedphp_memcacahed">Centos6.5_64安装memcached服务端和php_memcacahed拓展</a><ul>
<li><a href="#1_1">1.下载</a></li>
<li><a href="#2libevent">2.安装libevent</a></li>
<li><a href="#3memcached">3.安装memcached</a></li>
<li><a href="#4memcached">4.启动memcached</a></li>
<li><a href="#5-etcrcdrclocal">5.开机启动，编辑 /etc/rc.d/rc.local 文件，添加以下内容。</a></li>
<li><a href="#6">6.查看是否启动成功</a></li>
<li><a href="#7php_memcache">7.php_memcache扩展安装</a></li>
<li><a href="#8phpini-memcache">8.修改php.ini 加载Memcache组件</a></li>
<li><a href="#9-httpd">9.重启 httpd</a></li>
<li><a href="#10memcache">10.测试memcache是否可用</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#centos65mongodb">Centos6.5安装mongodb</a><ul>
<li><a href="#mongodb">一、安装MongoDB</a></li>
<li><a href="#php7mongodb">二、PHP7安装MongoDB拓展</a></li>
</ul>
</li>
<li><a href="#composer">安装composer</a></li>
<li><a href="#mkdocs">安装mkdocs</a></li>
<li><a href="#python361">一.安装python3.6.1</a></li>
<li><a href="#pip">二、安装pip（安装之前先检查是否安装了）</a></li>
<li><a href="#mkdocs_1">三、安装mkdocs</a></li>
<li><a href="#_3">四、创建项目</a></li>
</ul>
</div>
<h2 id="centos65php">Centos6.5安装php开发环境</h2>
<h3 id="_1">一、准备篇</h3>
<h4 id="1">1、下载安装包</h4>
<pre><code class="shell">LINUX
Apache2.4.25：
最新地址：http://httpd.apache.org/download.cgi
下载地址：http://apache.fayea.com/httpd/httpd-2.4.25.tar.gz

Mysql5.7.17：
最新地址：https://dev.mysql.com/downloads/mysql/
下载地址：https://cdn.mysql.com//Downloads/MySQL-5.7/mysql-5.7.17-linux-glibc2.5-x86_64.tar.gz

php7.1：
最新地址：http://php.net/downloads.php
下载地址：http://cn2.php.net/distributions/php-7.1.2.tar.gz

phpMyAdmin4.7.0：
最新地址：https://www.phpmyadmin.net/
下载地址：https://files.phpmyadmin.net/phpMyAdmin/4.7.0-rc1/phpMyAdmin-4.7.0-rc1-all-languages.zip

Git
最新地址：https://github.com/git/git
下载链接：https://github.com/git/git/archive/master.zip
</code></pre>

<h4 id="2">2、安装依赖包</h4>
<pre><code class="shell"># yum groupinstall &quot;Development tools&quot;
# yum install -y make cmake gcc gcc-c++ autoconf automake libpng-devel libjpeg-devel zlib libxml2-devel ncurses-devel bison libtool-ltdl-devel libiconv libmcrypt mhash mcrypt pcre-devel libaio pcre python python-devel openssl-devel kernel-devel freetype-devel libcurl-devel libxslt-devel wget unzip lrzsz vsftpd curl curl-devel perl cpio expat-devel gettext-devel  zlib-devel perl-ExtUtils-MakeMaker tcl
</code></pre>

<h4 id="3apache">3、删除自带apache</h4>
<pre><code class="shell"># rpm -qa httpd
# rpm -qa | grep httpd
httpd-2.2.15-29.el6.centos.i686
# rpm -e --nodeps httpd-2.2.15-29.el6.centos.i686
</code></pre>

<h4 id="4mysql">4、卸载自带的mysql</h4>
<pre><code class="shell"># rpm -qa mysql
# rpm -qa | grep mysql
mysql-libs-5.1.71-1.el6.i686
# rpm -e --nodeps mysql-libs-5.1.71-1.el6.i686
</code></pre>

<h4 id="5803306">5、开启80端口、3306端口</h4>
<pre><code class="shell">在22端口这条规则的下面加上
# vi /etc/sysconfig/iptables
-A INPUT -m state --state NEW -m tcp -p tcp --dport 80 -j ACCEPT
-A INPUT -m state --state NEW -m tcp -p tcp --dport 3306 -j ACCEPT
# /etc/init.d/iptables restart 或者 # service iptables restart
</code></pre>

<h4 id="6selinux">6、关闭SELINUX</h4>
<pre><code class="shell"># vi /etc/selinux/config
#SELINUX=enforcing #注释掉
#SELINUXTYPE=targeted #注释掉
SELINUX=disabled #增加
# shutdown -r now#重启系统
</code></pre>

<h4 id="7">7、解压压缩包</h4>
<pre><code class="shell"># cd /usr/local/soft
# for tar in *.tar.gz;  do tar xvf $tar; done
# for tar in *.tar.bz2; do tar xvf $tar; done
</code></pre>

<h4 id="9vim">9、安装vim并设置代码高亮</h4>
<h5 id="1vim">1）下载vim</h5>
<pre><code class="shell"># yum -y install vim-*
</code></pre>

<h5 id="2vim">2）设置vim编程风格</h5>
<pre><code class="shell"># vim /etc/vimrc
set nu
set showmode
set autoindent
set ts=4
set mouse=a
set expandtab
syntax on

ln -sf /usr/bin/vim /bin/vi

//设置vi命令高亮

对于已保存的文件，可以使用下面的方法进行空格和TAB的替换：
TAB替换为空格：
:set ts=4
:set expandtab
:%retab!

空格替换为TAB：
:set ts=4
:set noexpandtab
:%retab!
加!是用于处理非空白字符之后的TAB，即所有的TAB，若不加!，则只处理行首的TAB。
</code></pre>

<h4 id="10sshdsecurecrt">10、安装sshd服务配置secureCRT远程登录</h4>
<pre><code class="shell"># yum install openssh-server
# service sshd start
# service sshd status
</code></pre>

<h4 id="11centos65">11、centos6.5修改主机名</h4>
<pre><code class="shell"># hostname  //显示当前主机名
# vi /etc/sysconfig/network
HOSTNAME=centos
# vi /etc/hosts
在第一行127.0.0.1 centos localhost localhost.localdomain localhost4 localhost4.localdomain4
# hostname centos
# exit
</code></pre>

<h4 id="12centos6-ftp">12、CentOS6 配置FTP服务器</h4>
<h5 id="221">2）开放21端口</h5>
<pre><code class="shell"># service iptables stop
# vi /etc/sysconfig/iptables
# 添加规则允许21端口通行
-A INPUT -m state --state NEW -m tcp -p tcp --dport 21 -j ACCEPT
# 防火墙配置开放:
-A INPUT -p tcp --dport 30000:30100 -j ACCEPT
# service iptables restart
</code></pre>

<h5 id="3vsftpdconfig">3）编辑vsftpd.config文件</h5>
<pre><code class="shell"># 备份 etc/vsftpd/vsftpd.conf
# cp /etc/vsftpd/vsftpd.conf /etc/vsftpd/vsftpd.conf.bak
# vi /etc/vsftpd/vsftpd.conf
anonymous_enable=NO     //设定不允许匿名用户访问。
# 为了让FLASHFXP之类的软件更好的连接服务器，得让VSFTPD支持被动模式才行,上面已经开通相应端口防火墙，在最后加入
pasv_enable=YES
pasv_max_port=30100
pasv_min_port=30000
(上面的30000--30100端口号可以是其它的,在此举例)

# 指定此用户的网站文件夹
# adduser -d /www -g ftp -s /bin/bash sunrise
//-s /bin/bash是让其能登陆系统，-d 是指定用户目录为/www ，即该账户既能登陆ftp，又能用做登陆系统用。-g 是指定为FTP用户组
# passwd sunrise
# vi /etc/sudoers
添加sunrise ALL=(ALL) ALL

Changing password for user beinan.//接下来会出现让你设置新的密码
有必要的话  设置www目录权限
修改根目录属性：
# chmod -R 777 /www
//递归地给此目录下所有文件和子目录的读、写、执行权限
# chgrp -R ftp /www
//递归地把此目录及该目录下所有文件和子目录的组属性设置成ftp组
</code></pre>

<h5 id="4">4）限制用户目录，不得改变目录到上级</h5>
<pre><code class="shell"># vi /etc/vsftpd/vsftpd.conf 
将这两行
#chroot_list_enable=YES
#chroot_list_file=/etc/vsftpd/chroot_list
注释去掉

新增一个文件: 
# vi /etc/vsftpd/chroot_list 
内容写需要限制的用户名：
sunrise
重新启动vsftpd
# service vsftpd restart
</code></pre>

<h5 id="5">5）设置开机启动</h5>
<pre><code class="shell"># vi /etc/rc.local
# 在最后一行添加：
# service vsftpd start
</code></pre>

<h3 id="_2">二、安装篇：</h3>
<h4 id="1apache">1、编译安装apache</h4>
<p>原文：<a href="http://jingyan.baidu.com/article/d5c4b52bec7d6bda560dc5fb.html">http://jingyan.baidu.com/article/d5c4b52bec7d6bda560dc5fb.html</a></p>
<h5 id="1apr">1）安装apr</h5>
<pre><code class="shell"># cd apr-1.5.2
# ./configure --prefix=/usr/local/apr
# make &amp;&amp; make install
</code></pre>

<h5 id="2apr-util">2）安装apr-util</h5>
<pre><code class="shell"># cd ../apr-util-1.5.4
# ./configure --prefix=/usr/local/apr-util --with-apr=/usr/local/apr
# make &amp;&amp; make install
</code></pre>

<h5 id="3apache_1">3）安装apache</h5>
<pre><code class="shell"># cd ../httpd-2.4.25
# ./configure --prefix=/usr/local/httpd --sysconfdir=/usr/local/httpd/conf --enable-so --enable-ssl --enable-cgi --enable-rewrite --with-zlib --with-pcre --with-apr=/usr/local/apr --with-apr-util=/usr/local/apr-util --enable-modules=most --enable-mpms-shared=all --with-mpm=event
# make &amp;&amp; make install
</code></pre>

<h5 id="4httpdconf">4）备份httpd.conf</h5>
<pre><code class="shell"># cd /usr/local/httpd/conf
# cp httpd.conf httpd.conf.bak
</code></pre>

<h5 id="5httpd">5）修改httpd的主配置文件</h5>
<pre><code class="shell"># vi /usr/local/httpd/conf/httpd.conf
将ServerName www.example.com:80修改为localhost:80
局域网访问：
Order allow,deny
Allow from all
根目录：
DocumentRoot &quot;/www&quot;

DirectoryIndex index.php index.html

加载ttf字体
AddType application/font-sfnt            .otf .ttf
AddType application/font-woff            .woff
AddType application/font-woff2           .woff2
AddType application/vnd.ms-fontobject    .eot

加载rewrite

加载php
AddType application/x-httpd-php .php
</code></pre>

<h5 id="6sysvetcrcdinitdhttpd">6）提供SysV服务脚本/etc/rc.d/init.d/httpd</h5>
<pre><code class="shell">#!/bin/bash  
#  
# httpd        Startup script for the Apache HTTP Server  
#  
# chkconfig: - 85 15  
# description: The Apache HTTP Server is an efficient and extensible  \  
#          server implementing the current HTTP standards.  
# processname: httpd  
# config: /usr/local/httpd/conf/httpd.conf  
# config: /etc/sysconfig/httpd  
# pidfile: /var/run/httpd/httpd.pid  
#  
### BEGIN INIT INFO  
# Provides: httpd  
# Required-Start: $local_fs $remote_fs $network $named  
# Required-Stop: $local_fs $remote_fs $network  
# Should-Start: distcache  
# Short-Description: start and stop Apache HTTP Server  
# Description: The Apache HTTP Server is an extensible server   
#  implementing the current HTTP standards.  
### END INIT INFO  

# Source function library.  
. /etc/rc.d/init.d/functions  

if [ -f /etc/sysconfig/httpd ]; then  
        . /etc/sysconfig/httpd  
fi  

# Start httpd in the C locale by default.  
HTTPD_LANG=${HTTPD_LANG-&quot;C&quot;}  

# This will prevent initlog from swallowing up a pass-phrase prompt if  
# mod_ssl needs a pass-phrase from the user.  
INITLOG_ARGS=&quot;&quot;  

# Set HTTPD=/usr/sbin/httpd.worker in /etc/sysconfig/httpd to use a server  
# with the thread-based &quot;worker&quot; MPM; BE WARNED that some modules may not  
# work correctly with a thread-based MPM; notably PHP will refuse to start.  

# Path to the apachectl script, server binary, and short-form for messages.  
apachectl=/usr/local/httpd/bin/apachectl  
httpd=${HTTPD-/usr/local/httpd/bin/httpd}  
prog=httpd  
pidfile=${PIDFILE-/usr/local/httpd/logs/httpd.pid}  
lockfile=${LOCKFILE-/var/lock/subsys/httpd}  
RETVAL=0  
STOP_TIMEOUT=${STOP_TIMEOUT-10}  

# The semantics of these two functions differ from the way apachectl does  
# things -- attempting to start while running is a failure, and shutdown  
# when not running is also a failure.  So we just do it the way init scripts  
# are expected to behave here.  
start() {  
        echo -n $&quot;Starting $prog: &quot;  
        LANG=$HTTPD_LANG daemon --pidfile=${pidfile} $httpd $OPTIONS  
        RETVAL=$?  
        echo  
        [ $RETVAL = 0 ] &amp;&amp; touch ${lockfile}  
        return $RETVAL  
}  

# When stopping httpd, a delay (of default 10 second) is required  
# before SIGKILLing the httpd parent; this gives enough time for the  
# httpd parent to SIGKILL any errant children.  
stop() {  
    echo -n $&quot;Stopping $prog: &quot;  
    killproc -p ${pidfile} -d ${STOP_TIMEOUT} $httpd  
    RETVAL=$?  
    echo  
    [ $RETVAL = 0 ] &amp;&amp; rm -f ${lockfile} ${pidfile}  
}  
reload() {  
    echo -n $&quot;Reloading $prog: &quot;  
    if ! LANG=$HTTPD_LANG $httpd $OPTIONS -t &gt;&amp;/dev/null; then  
        RETVAL=6  
        echo $&quot;not reloading due to configuration syntax error&quot;  
        failure $&quot;not reloading $httpd due to configuration syntax error&quot;  
    else  
        # Force LSB behaviour from killproc  
        LSB=1 killproc -p ${pidfile} $httpd -HUP  
        RETVAL=$?  
        if [ $RETVAL -eq 7 ]; then  
            failure $&quot;httpd shutdown&quot;  
        fi  
    fi  
    echo  
}  

# See how we were called.  
case &quot;$1&quot; in  
  start)  
    start  
    ;;  
  stop)  
    stop  
    ;;  
  status)  
        status -p ${pidfile} $httpd  
    RETVAL=$?  
    ;;  
  restart)  
    stop  
    start  
    ;;  
  condrestart|try-restart)  
    if status -p ${pidfile} $httpd &gt;&amp;/dev/null; then  
        stop  
        start  
    fi  
    ;;  
  force-reload|reload)  
        reload  
    ;;  
  graceful|help|configtest|fullstatus)  
    $apachectl $@  
    RETVAL=$?  
    ;;  
  *)  
    echo $&quot;Usage: $prog {start|stop|restart|condrestart|try-restart|force-reload|reload|status|fullstatus|graceful|help|configtest}&quot;  
    RETVAL=2  
esac  

exit $RETVAL
</code></pre>

<h5 id="7_1">7）为此脚本赋予执行权限：</h5>
<pre><code class="shell"># chmod +x /etc/rc.d/init.d/httpd
</code></pre>

<h5 id="8">8）加入服务列表</h5>
<pre><code class="shell"># chkconfig --add httpd
</code></pre>

<h5 id="9apache">9）启动Apache服务</h5>
<pre><code class="shell"># service httpd start
# curl http://127.0.0.1
</code></pre>

<h4 id="2mysql">2、编译安装mysql</h4>
<p>原文：<a href="http://lavasoft.blog.51cto.com/blog/62575/1733207">http://lavasoft.blog.51cto.com/blog/62575/1733207</a></p>
<h5 id="1usrlocalmysqlmysql">1）解压缩到/usr/local/下面，mysql的主目录命名为mysql</h5>
<pre><code class="shell"># cd /usr/local/soft/
# tar -zvxf mysql-5.7.17-linux-glibc2.5-i686.tar.gz  /usr/local
# cd ../
# mv mysql-5.7.17-linux-glibc2.5-i686/ mysql
# cd mysql
</code></pre>

<h5 id="2mysqldata">2）在mysql下面创建data数据库文件目录</h5>
<pre><code class="shell"># mkdir data
</code></pre>

<h5 id="3mysqlmysql">3）创建mysql的用户组和用户，并对mysql目录设置用户组和用户</h5>
<pre><code class="shell"># groupadd mysql
# useradd mysql -g mysql
# chown -R mysql .
# chgrp -R mysql .
</code></pre>

<h5 id="4mysqlmysql">4）初始化mysql并启动mysql服务</h5>
<pre><code class="shell"># cd /usr/local/mysql/bin
# ./mysql_install_db --user=mysql --basedir=/usr/local/mysql/ --datadir=/usr/local/mysql/data   //指定mysql基本目录和数据目录文件夹
2016-01-09 12:00:28 [WARNING] mysql_install_db is deprecated. Please consider switching to mysqld --initialize
2016-01-09 12:00:33 [WARNING] The bootstrap log isn't empty:
2016-01-09 12:00:33 [WARNING] 2016-01-09T04:00:29.262989Z 0 [Warning] --bootstrap is deprecated. Please consider using --initialize instead
2016-01-09T04:00:29.264643Z 0 [Warning] Changed limits: max_open_files: 1024 (requested 5000)
2016-01-09T04:00:29.264653Z 0 [Warning] Changed limits: table_open_cache: 431 (requested 2000)
</code></pre>

<h5 id="5mysql">5）启动mysql服务</h5>
<pre><code class="shell"># cd /usr/local/mysql/support-files/
# ./mysql.server start
Starting MySQL. SUCCESS! 
</code></pre>

<h5 id="6mysql">6）将mysql服务添加至系统服务中</h5>
<pre><code class="shell"># cp -v /usr/local/mysql/support-files/mysql.server /etc/init.d/mysql
# chkconfig --add mysql
# service mysql {start|stop|restart|reload|force-reload|status}
</code></pre>

<h5 id="7mysqllinux">7）将mysql命令加入linux环境变量</h5>
<pre><code class="shell"># ln -s /usr/local/mysql/bin/mysql /bin
</code></pre>

<h5 id="8root">8）查看root随机密码</h5>
<pre><code class="shell"># cat /root/.mysql_secret
# Password set for user 'root@localhost' at 2016-01-09 12:00:28 
:5ul#H6dmcwX
</code></pre>

<h5 id="9mysql">9）登录mysql</h5>
<pre><code class="shell"># mysql -h localhost -u root -p
或者
# cd /usr/local/mysql/bin
# ./mysql -u root -p
</code></pre>

<h5 id="10mysqlrootroot">10）改mysql的root用户密码为root</h5>
<pre><code class="shell">mysql&gt; SET PASSWORD=PASSWORD('root');
</code></pre>

<h5 id="11mysql">11）设定远程登录mysql</h5>
<pre><code class="mysql">mysql&gt; USE mysql;
mysql&gt; SELECT Host,User FROM user;
mysql&gt; GRANT ALL PRIVILEGES ON *.* TO root@'%' IDENTIFIED BY 'root' WITH GRANT OPTION;
mysql&gt; FLUSH PRIVILEGES;
</code></pre>

<h5 id="12utf8">12）设定默认utf8字符集</h5>
<pre><code class="shell"># cp /usr/local/mysql/support-files/my-default.cnf /etc/my.cnf
# vi /etc/my.cnf
修改
basedir = /usr/local/mysql
datadir = /usr/local/mysql/data
port = 3306
character-set-server = utf8
</code></pre>

<h5 id="13navicat-for-mysql">13）解决navicat for mysql插入数据后显示错误</h5>
<pre><code class="shell">sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_AUTO_CREATE_USER,NO_ENGINE_SUBSTITUTION
</code></pre>

<h4 id="3php">3、编译安装php</h4>
<h5 id="1php">1）编译安装php</h5>
<pre><code class="shell"># tar xf php-7.1.10.tar.gz
# cd php-7.1.10

Orgin:
# ./configure --prefix=/usr/local/php --with-libxml-dir=/usr/include/libxml2 --with-mysqli --with-zlib-dir=/usr/src/kernels/2.6.32-431.el6.i686/include/config/zlib --with-apxs2=/usr/local/httpd/bin/apxs --with-config-file-path=/usr/local/php

New:
./configure --prefix=/usr/local/php \
    --with-apxs2=/usr/local/httpd/bin/apxs \
    --with-config-file-path=/usr/local/php \
    --with-curl \
    --with-freetype-dir \
    --with-gd \
    --with-gettext \
    --with-iconv-dir \
    --with-kerberos \
    --with-libdir=lib64 \
    --with-libxml-dir \
    --with-mysqli \
    --with-openssl\
    --with-pcre-regex \
    --with-pdo-mysql \
    --with-pdo-sqlite \
    --with-pear \
    --with-png-dir \
    --with-xmlrpc \
    --with-xsl \
    --with-zlib \
    --enable-fpm \
    --enable-bcmath \
    --enable-libxml \
    --enable-inline-optimization \
    --enable-gd-native-ttf \
    --enable-mbregex \
    --enable-mbstring \
    --enable-opcache \
    --enable-pcntl \
    --enable-shmop \
    --enable-soap \
    --enable-sockets \
    --enable-sysvsem \
    --enable-xml \
    --enable-zip

# make &amp;&amp; make install
# cp /usr/local/soft/php-7.1.1/php.ini-development /usr/local/php/php.ini
##将安装目录下的php.ini-production复制到/usr/local/php/conf下作为配置文件
</code></pre>

<h5 id="2phpini">2）备份php.ini</h5>
<pre><code class="shell"># cd /usr/local/php
# cp php.ini php.ini.bak
</code></pre>

<h5 id="3apachephp">3）配置Apache，使其和Php结合</h5>
<pre><code class="shell"># vi /usr/local/httpd/conf/httpd.conf
#添加index.php网页为默认访问页：
DirectoryIndex index.php index.html
#使apache与扩展名为.php的文件类型相关联
在/usr/local/httpd/conf/httpd.conf文件中添加一句：
AddType application/x-httpd-php .php
</code></pre>

<h5 id="4php">4）将php命令添加至环境变量</h5>
<pre><code class="shell"># export PATH=$PATH:/usr/local/php/bin
</code></pre>

<h5 id="5apachephpmysql">5）重启Apache服务，并添加php和mysql测试网页</h5>
<pre><code class="php"># service httpd restart
# cd /www
# vi index.php
#写如下代码
$link = mysqli_connect('localhost', 'root', 'root');
if ($link == true) {
    echo 'ok';
} else {
    echo 'no';
}
phpinfo();
</code></pre>

<h4 id="4git">4、安装GIT</h4>
<h5 id="2centosgit171">2）卸载Centos自带的git1.7.1</h5>
<pre><code class="shell"># rpm -qa git
git-1.7.1-4.el6_7.1.i686
# rpm -e --nodeps git-1.7.1-4.el6_7.1.i686
或者
# yum remove git
</code></pre>

<h5 id="3gitgit">3）安装git并将git添加到环境变量中</h5>
<pre><code class="shell"># cd /usr/local/soft
# wget https://github.com/git/git/archive/v2.12.0-rc1.tar.gz
# tar -xzvf git-2.1.2.tar.gz
# cd git-2.1.2
# make prefix=/usr/local/git all
# make prefix=/usr/local/git install
# echo &quot;export PATH=$PATH:/usr/local/git/bin&quot; &gt;&gt; /etc/bashrc
# source /etc/bashrc
</code></pre>

<h5 id="4_1">4）查看版本号</h5>
<pre><code class="shell"># git --version
git version 2.1.2
</code></pre>

<h4 id="5redisredis">5、安装redis和redis拓展</h4>
<pre><code class="shell">php拓展安装教程： http://www.cnblogs.com/myright/articles/5408276.html
php全部拓展下载： http://pecl.php.net/package-stats.php
redis下载地址：   https://github.com/MSOpenTech/redis
php7拓展下载地址：http://pecl.php.net/package/redis/3.1.1/windows
</code></pre>

<p>原文：<a href="http://blog.csdn.net/ludonqin/article/details/47211109">http://blog.csdn.net/ludonqin/article/details/47211109</a></p>
<h5 id="1redis">1）安装redis依赖文件</h5>
<pre><code class="shell"># yum install tcl
</code></pre>

<h5 id="2redis">2）下载redis安装包并解压</h5>
<pre><code class="shell"># tar -xzvf redis-4.0-rc3.tar.gz
# cd redis-4.0-rc3
# make &amp;&amp; make install
</code></pre>

<h5 id="3usrlocalbin">3）成功后/usr/local/bin下已有这些文件</h5>
<pre><code class="shell">redis-benchmark  redis-check-rdb  redis-sentinel
redis-check-aof  redis-cli        redis-server
# redis-server –v (查看版本命令)
</code></pre>

<h5 id="4redisconf">4）修改配置文件redis.conf</h5>
<p>创建配置文件目录，dump file 目录，进程pid目录，log目录等</p>
<pre><code class="shell"># cd /usr/local/
# mkdir redis
# cd redis
# mkdir conf data log run
# cp /usr/local/soft/redis/redis.conf /usr/local/redis/conf/redis_6379.conf
# cd /usr/local/redis/conf
# cp redis_6379.conf redis_6379.conf.bak
</code></pre>

<h5 id="5redis">5）修改Redis配置</h5>
<pre><code class="shell"># vi redis_6379.conf
pidfile /usr/local/redis/run/redis_6379.pid //pid目录
dir /usr/local/redis/data           //dump目录
logfile /usr/local/redis/log/redis.log  //log存储目录
daemonize no改为yes   //修改配置文件使得redis在background运行
持久化 //默认rdb，可选择是否开启aof，若开启，修改配置文件appendonly
</code></pre>

<h5 id="6redis">6）启动redis，查看各目录下文件</h5>
<pre><code class="shell"># redis-server /usr/local/redis/conf/redis_6379.conf
</code></pre>

<h5 id="7redis">7）客户端连接redis</h5>
<pre><code class="shell"># redis-cli
</code></pre>

<h5 id="8_1">8）服务及开机自启动</h5>
<p>复制启动脚本</p>
<pre><code class="shell"># cp /usr/local/soft/redis/utils/redis_init_script /etc/init.d/redis
# cd /etc/init.d
# vi /etc/init.d/redis
PIDFILE=/usr/local/redis/run/redis_${REDISPORT}.pid
CONF=&quot;/usr/local/redis/conf/redis_${REDISPORT}.conf&quot;
</code></pre>

<pre><code class="shell">// 给reids服务设置优先级（在开始位置添加）
#!/bin/sh
#
# added by wt on 20170312
# chkconfig: 2345 90 10
#
# description: Redis is a persistent key-value database
# added by wt on 20170312



# chmod +x /etc/init.d/redis    //给启动脚本添加权限
# chmod –x /etc/init.d/redis    //删除权限

//添加开机启动服务
# chkconfig redis on
</code></pre>

<h5 id="9redis">9）启动、关闭redis</h5>
<pre><code class="shell"># service redis start
# service redis stop
</code></pre>

<h5 id="10-php">10) 安装php拓展</h5>
<p><a href="http://www.cnblogs.com/GaZeon/p/5422078.html">http://www.cnblogs.com/GaZeon/p/5422078.html</a></p>
<pre><code class="shell"># wget https://codeload.github.com/phpredis/phpredis/zip/php7
# unzip phpredis-php7.zip
# cd phpredis-php7
# /usr/local/php/bin/phpize
# ./configure --with-php-config=/usr/local/php/bin/php-config
# make &amp;&amp; make install
</code></pre>

<h5 id="11-extensionredissophpini">11） 将extension=redis.so加入到php.ini</h5>
<pre><code class="shell"># vim /usr/local/php/php.ini
extension=redis.so
# service httpd restart
</code></pre>

<h5 id="12-redis">12) 测试redis是否成功</h5>
<pre><code class="php">&lt;?php
$redis = new Redis();
$redis-&gt;connect('127.0.0.1', 6379);
$redis-&gt;set('name', 'wt');
echo $redis-&gt;get('name');
</code></pre>

<h3 id="centos65_64memcachedphp_memcacahed">Centos6.5_64安装memcached服务端和php_memcacahed拓展</h3>
<h4 id="1_1">1.下载</h4>
<pre><code class="shell"># wget https://github.com/libevent/libevent/releases/download/release-2.1.8-stable/libevent-2.1.8-stable.tar.gz

# wget http://www.memcached.org/files/memcached-1.4.36.tar.gz
# wget https://github.com/websupport-sk/pecl-memcache/archive/php7.zip
</code></pre>

<h4 id="2libevent">2.安装libevent</h4>
<pre><code class="shell"># tar -xzvf libevent-2.1.8-stable.tar.gz
# cd libevent-2.1.8-stable
# ./configure --prefix=/usr/local/libevent
# make &amp;&amp; make install
</code></pre>

<h4 id="3memcached">3.安装memcached</h4>
<pre><code class="shell">tar -xzvf memcached-1.4.36.tar.gz
cd memcached-1.4.36
# ./configure --prefix=/usr/local/memcached --with-libevent=/usr/local/libevent
# make &amp;&amp; make install
</code></pre>

<h4 id="4memcached">4.启动memcached</h4>
<pre><code># /usr/local/memcached/bin/memcached -d -m 128 -l 127.0.0.1 -p 11211 -u root
(128为内存, 11211为端口,root为用户组)
</code></pre>

<h4 id="5-etcrcdrclocal">5.开机启动，编辑 /etc/rc.d/rc.local 文件，添加以下内容。</h4>
<pre><code>/usr/local/memcached/bin/memcached -d -m 128 -l 127.0.0.1 -p 11211 -u root
</code></pre>

<h4 id="6">6.查看是否启动成功</h4>
<pre><code class="shell"># ps aux|grep memcached
</code></pre>

<h4 id="7php_memcache">7.php_memcache扩展安装</h4>
<pre><code class="shell"># unzip pecl-memcache-php7.zip
# cd pecl-memcache-php7
# /usr/local/php/bin/phpize
# ./configure --with-php-config=/usr/local/php/bin/php-config
# make &amp;&amp; make install
</code></pre>

<h4 id="8phpini-memcache">8.修改php.ini 加载Memcache组件</h4>
<pre><code>[memcache]
extension = memcache.so
</code></pre>

<h4 id="9-httpd">9.重启 httpd</h4>
<pre><code># service httpd restart
</code></pre>

<h4 id="10memcache">10.测试memcache是否可用</h4>
<pre><code class="php">$memcache   =   new Memcache();
$memcache-&gt;connect('127.0.0.1', 11211);
$memcache-&gt;set('name', 'hello memcache');
echo $memcache-&gt;get('name');die;
</code></pre>

<h2 id="centos65mongodb">Centos6.5安装mongodb</h2>
<p>http://www.cnblogs.com/luyucheng/p/6085882.html</p>
<h3 id="mongodb">一、安装MongoDB</h3>
<p>1.创建mongodb用户组和用户</p>
<pre><code class="shell">$ groupadd mongodb
$ useradd -r -g mongodb -s /sbin/nologin -M mongodb
</code></pre>

<p>2.下载mongodb源码包
下载页面：<a href="https://www.mongodb.com/download-center?jmp=nav">https://www.mongodb.com/download-center?jmp=nav</a>
这里用的是 mongodb-linux-x86_64-rhel62-3.2.10.tgz
下载地址：<a href="https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz">https://fastdl.mongodb.org/linux/mongodb-linux-x86_64-rhel62-3.2.10.tgz</a></p>
<p>4.创建mongodb文件目录</p>
<pre><code class="shell">$ mkdir -p /usr/local/mongodb/data
$ mkdir -p /usr/local/mongodb/conf
$ mkdir -p /usr/local/mongodb/run
$ mkdir -p /usr/local/mongodb/log
</code></pre>

<p>6.将文件复制到mongodb/目录</p>
<pre><code class="shell">$ mv mongodb-linux-i686-2.4.9 /usr/local/mongodb
</code></pre>

<p>7.创建mongodb配置文件mongodb.conf</p>
<pre><code>$ cd /usr/local/mongodb/conf
$ vim mongodb.conf
</code></pre>

<p>8.添加下面内容，保存退出</p>
<pre><code class="shell">dbpath=/usr/local/mongodb/data #数据目录存在位置
logpath=/usr/local/mongodb/log/mongodb.log #日志文件存放目录
logappend=true #写日志的模式:设置为true为追加
fork=true  #以守护程序的方式启用，即在后台运行
verbose=true
vvvv=true #启动verbose冗长信息，它的级别有 vv~vvvvv，v越多级别越高，在日志文件中记录的信息越详细
maxConns=20000 #默认值：取决于系统（即的ulimit和文件描述符）限制。MongoDB中不会限制其自身的连接
pidfilepath=/usr/local/mongodb/run/mongodb.pid
directoryperdb=true #数据目录存储模式,如果直接修改原来的数据会不见了
profile=0 #数据库分析等级设置,0 关 2 开。包括所有操作。 1 开。仅包括慢操作
slowms=200 #记录profile分析的慢查询的时间，默认是100毫秒
quiet=true
syncdelay=60 #刷写数据到日志的频率，通过fsync操作数据。默认60秒
#port=27017  #端口
#bind_ip = 10.1.146.163 #IP
#auth=true  #开始认证
#nohttpinterface=false #28017 端口开启的服务。默认false，支持
#notablescan=false#不禁止表扫描操作
#cpu=true #设置为true会强制mongodb每4s报告cpu利用率和io等待，把日志信息写到标准输出或日志文件
</code></pre>

<p>9.修改mongodb目录权限</p>
<pre><code class="shell">$ chown -R mongodb:mongodb /usr/local/mongodb
$ chown -R mongodb:mongodb usr/local/mongodb/run
$ chown -R mongodb:mongodb usr/local/mongodb/log
</code></pre>

<p>10.将mongodb命令加入环境变量，修改profile文件</p>
<pre><code class="shell">$ echo &quot;export PATH=$PATH:/usr/local/mongodb/bin&quot; &gt;&gt; /etc/profile
$ source /etc/profile
</code></pre>

<p>13.将mongodb服务脚本加入到init.d/目录，创建mongod文件</p>
<pre><code>vim /etc/init.d/mongodb
</code></pre>

<p>14.加入下面内容，保存退出</p>
<pre><code class="shell">#!/bin/sh  
# chkconfig: 2345 93 18
# description:MongoDB  

#默认参数设置
#mongodb 家目录
MONGODB_HOME=/usr/local/mongodb

#mongodb 启动命令
MONGODB_BIN=$MONGODB_HOME/bin/mongod

#mongodb 配置文件
MONGODB_CONF=$MONGODB_HOME/conf/mongodb.conf

MONGODB_PID=$MONGODB_HOME/run/mongodb.pid

#最大文件打开数量限制
SYSTEM_MAXFD=65535

#mongodb 名字  
MONGODB_NAME=&quot;mongodb&quot;
. /etc/rc.d/init.d/functions

if [ ! -f $MONGODB_BIN ]
then
    echo &quot;$MONGODB_NAME startup: $MONGODB_BIN not exists! &quot;  
    exit
fi

start(){
    ulimit -HSn $SYSTEM_MAXFD
    $MONGODB_BIN --config=&quot;$MONGODB_CONF&quot;  --journal
    ret=$?
    if [ $ret -eq 0 ]; then
        action $&quot;Starting $MONGODB_NAME: &quot; /bin/true
    else
        action $&quot;Starting $MONGODB_NAME: &quot; /bin/false
    fi
}

stop(){
    PID=$(ps aux |grep &quot;$MONGODB_NAME&quot; |grep &quot;$MONGODB_CONF&quot; |grep -v grep |wc -l) 
    if [[ $PID -eq 0  ]];then
        action $&quot;Stopping $MONGODB_NAME: &quot; /bin/false
        exit
    fi
    kill -HUP `cat $MONGODB_PID`
    ret=$?
    if [ $ret -eq 0 ]; then
        action $&quot;Stopping $MONGODB_NAME: &quot; /bin/true
        rm -f $MONGODB_PID
    else   
        action $&quot;Stopping $MONGODB_NAME: &quot; /bin/false
    fi
}

restart(){
    stop
    sleep 2
    start
}

case &quot;$1&quot; in
    start)
        start
        ;;
    stop)
        stop
        ;;
    status)
    status $prog
        ;;
    restart)
        restart
        ;;
    *)
        echo $&quot;Usage: $0 {start|stop|status|restart}&quot;
esac
</code></pre>

<p>15.为mongod添加可执行权限</p>
<pre><code>$ chmod +x /etc/init.d/mongodb
</code></pre>

<p>16.将mongodb加入系统服务</p>
<pre><code>chkconfig --add mongodb
</code></pre>

<p>17.修改服务的默认启动等级</p>
<pre><code>chkconfig mongodb on
</code></pre>

<p>18.启动mongodb</p>
<pre><code>service mongodb start
</code></pre>

<h3 id="php7mongodb">二、PHP7安装MongoDB拓展</h3>
<p>1.下载php7 mongodb拓展包，并将源码包放到/usr/local/src/目录下</p>
<p>下载页面：<a href="http://pecl.php.net/package/mongodb">http://pecl.php.net/package/mongodb</a>
这里用的是 mongodb-1.1.9.tgz
下载地址：<a href="http://pecl.php.net/get/mongodb-1.1.9.tgz">http://pecl.php.net/get/mongodb-1.1.9.tgz</a></p>
<p>3.解压拓展包</p>
<pre><code class="shell">$ cd /usr/local/soft
$ tar -zxf mongodb-1.1.9.tgz
</code></pre>

<p>4.进入mongodb拓展目录，编译安装拓展</p>
<pre><code>$ cd mongodb-1.1.9/
$ /usr/local/php/bin/phpize
$ ./configure --with-php-config=/usr/local/php/bin/php-config
$ make &amp;&amp; make install
</code></pre>

<p>5.修改php.ini文件</p>
<pre><code>vim /usr/local/php/php.ini
</code></pre>

<p>6.添加mongodb.so扩展配置，保存退出</p>
<pre><code>extension=mongodb.so
</code></pre>

<p>7.重启Apache或php-fpm</p>
<pre><code>$ service httpd restart
</code></pre>

<p>8.测试是否安装成功</p>
<pre><code class="php">&lt;?php
$manager = new MongoDB\Driver\Manager(&quot;mongodb://127.0.0.1:27017&quot;);
$bulk = new MongoDB\Driver\BulkWrite;
$bulk-&gt;insert(['x' =&gt; 1, 'class'=&gt;'toefl', 'num' =&gt; '18']);
$bulk-&gt;insert(['x' =&gt; 2, 'class'=&gt;'ielts', 'num' =&gt; '26']);
$bulk-&gt;insert(['x' =&gt; 3, 'class'=&gt;'sat', 'num' =&gt; '35']);
$manager-&gt;executeBulkWrite('test.log', $bulk);
$filter = ['x' =&gt; ['$gt' =&gt; 1]];
$options = [
    'projection' =&gt; ['_id' =&gt; 0],
    'sort' =&gt; ['x' =&gt; -1],
];
$query = new MongoDB\Driver\Query($filter, $options);
$cursor = $manager-&gt;executeQuery('test.log', $query);
foreach ($cursor as $document) {
    print_r($document);
}
</code></pre>

<h2 id="composer">安装composer</h2>
<pre><code class="shell">//下载composer
wget https://dl.laravel-china.org/composer.phar -O /usr/local/bin/composer

// 添加权限
chmod a+x /usr/local/bin/composer

//切换国内源
composer config -g repo.packagist composer https://packagist.laravel-china.org
</code></pre>

<h2 id="mkdocs">安装mkdocs</h2>
<h2 id="python361">一.安装python3.6.1</h2>
<pre><code class="shell">$ wget https://www.python.org/ftp/python/3.6.1/Python-3.6.1.tgz
$ tar vxf Python-3.6.1.tgz
$ cd Python-3.6.1
$ ./configure --prefix=/usr/local/python3   #编译，自定义安装目录
$  make &amp;&amp; make install  #过程很慢
$ ln -s /usr/local/python3/bin/python3 /usr/bin/  #建立软连接
$ python3 --version
$ pip --version #检查是否安装了pip
$ pip install --upgrade pip #更新pip
</code></pre>

<h2 id="pip">二、安装pip（安装之前先检查是否安装了）</h2>
<pre><code class="shell">$ wget https://pypi.python.org/packages/11/b6/abcb525026a4be042b486df43905d6893fb04f05aac21c32c638e939e447/pip-9.0.1.tar.gz#md5=35f01da33009719497f01a4ba69d63c9  #pip下载
$ tar zxf pip-9.0.1.tar.gz 
$ cd pip-9.0.1
$ python3 setup.py install
</code></pre>

<h2 id="mkdocs_1">三、安装mkdocs</h2>
<pre><code class="shell">$ pip install mkdocs
$ ln -s /usr/local/python3/bin/mkdocs /usr/bin
$ mkdocs --version
</code></pre>

<h2 id="_3">四、创建项目</h2>
<pre><code class="shell">$ mkdocs new documents
$ cd documents &amp;&amp; mkdocs serve #开启内置服务器
$ vi mkdocs.yml
$ site_name: Sunrise    #修改项目标题
$ theme: readthedocs    #修改文档模板
$ pages: {              #添加页面
  - Home: index.md
  - About: about.md
}
$ mkdocs build  #生成html文档，html文件存储在site目录中
$ mkdocs build --clean  #去掉不需要的页面
</code></pre>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../../study/laravel5-thinkphp5/" class="btn btn-neutral float-right" title="Laravel&ThinkPHP">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../node/" class="btn btn-neutral" title="Node"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../node/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../../study/laravel5-thinkphp5/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
